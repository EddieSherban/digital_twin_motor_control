{
  "@context": "dtmi:dtdl:context;2",
  "@id": "dtmi:dcmotor;1",
  "@type": "Interface",
  "displayName": "DC Motor",
  "description": "Reports direction, duty cycle, velocity, position and current.",
  "contents": [
    {
      "@type": [
        "Telemetry",
        "timestamp"
      ],
      "name": "timestamp",
      "displayName" : "Timestamp",
      "description" : "Time since system start.",
      "schema": "integer",
      "unit": "mS"
    },
    {
      "@type": [
        "Property",
        "pTimestamp"
      ],
      "name": "pTimestamp",
      "displayName": "pTimestamp",
      "schema": "integer"
    },
    {
      "@type": [
        "Telemetry",
        "direction"
      ],
      "name": "direction",
      "displayName" : "Direction",
      "description" : "Direction of DC Motor (-1 = Counter-Clockwise, 0 = Stopped, 1 = Clockwise)",
      "schema": "integer",
      "unit": ""
    },
    {
      "@type": [
        "Property",
        "pDirection"
      ],
      "name": "pDirection",
      "displayName": "pDirection",
      "schema": "integer"
    },
    {
      "@type": [
        "Telemetry",
        "duty_cycle"
      ],
      "name": "duty_cycle",
      "displayName" : "Duty Cycle",
      "description" : "Duty cycle being sent to motor driver",
      "schema": "double",
      "unit": ""
    },
    {
      "@type": [
        "Property",
        "pDuty_cycle"
      ],
      "name": "pDuty_cycle",
      "displayName": "pDuty_cycle",
      "schema": "double"
    },
    {
      "@type": [
        "Telemetry",
        "velocity"
      ],
      "name": "velocity",
      "displayName" : "Velocity",
      "description" : "Angular velocity of DC Motor",
      "schema": "double",
      "unit": "RPM"
    },
    {
      "@type": [
        "Property",
        "pVelocity"
      ],
      "name": "pVelocity",
      "displayName": "pVelocity",
      "schema": "double"
    },
    {
      "@type": [
        "Telemetry",
        "position"
      ],
      "name": "position",
      "displayName" : "Position",
      "description" : "Angular position of DC Motor",
      "schema": "double",
      "unit": "Degrees"
    },
    {
      "@type": [
        "Property",
        "pPosition"
      ],
      "name": "pPosition",
      "displayName": "pPosition",
      "schema": "double"
    },
    {
      "@type": [
        "Telemetry",
        "current"
      ],
      "name": "current",
      "displayName" : "Current",
      "description" : "Current of DC Motor",
      "schema": "double",
      "unit": "mA"
    },
    {
      "@type": [
        "Property",
        "pCurrent"
      ],
      "name": "pCurrent",
      "displayName": "pCurrent",
      "schema": "double"
    },
    {
      "@type": "Command",
      "name": "set_velocity",
      "displayName": "Set Velocity Set Point",
      "description": "Sets set point for velocity.",
      "request": {
        "name": "velocity_set_point",
        "displayName": "Velocity Set Point",
        "schema": "double"
      }
    },
    {
      "@type": [
        "Property",
        "mode"
      ],
      "name": "mode",
      "schema": "integer",
      "displayName": "Mode",
      "description": "Mode of system (-1 = Manual, 1 = Auto",
      "writable": true
    }
  ]
}
